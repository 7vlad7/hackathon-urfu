from aiogram import Router
from aiogram.filters import CommandStart
from aiogram.types import Message

from urfu.domain.entities.user import UserEntity
from urfu.presentation.bot.keyboards.menu import menu_keyboard

router = Router(name=__name__)


@router.message(CommandStart())
async def start_handler(message: Message, user: UserEntity) -> None:
    bot_info = await message.bot.me()

    await message.answer(
        (
            "<b>–ü—Ä–∏–≤–µ—Ç, –±—É–¥—É—â–∏–π —Å—Ç—É–¥–µ–Ω—Ç –£—Ä–§–£! üëã</b>\n\n"
            "–ü–æ–º–Ω–∏—à—å —ç—Ç–æ—Ç –º—É—á–∏—Ç–µ–ª—å–Ω—ã–π –≤–æ–ø—Ä–æ—Å <i>¬´–ö—É–¥–∞ –ø–æ—Å—Ç—É–ø–∏—Ç—å?¬ª</i>. –ú—ã - –ø–æ–º–Ω–∏–º. "
            "–ü–æ—ç—Ç–æ–º—É —Å–æ–∑–¥–∞–ª–∏ —ç—Ç–æ–≥–æ –±–æ—Ç–∞, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å —Ç–µ–±–µ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è.\n\n"
            "–ó–¥–µ—Å—å —Ç—ã —Å–º–æ–∂–µ—à—å:\n"
            "‚úÖ –£–∑–Ω–∞—Ç—å, –Ω–∞ –∫–∞–∫–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—ã –ø—Ä–æ—Ö–æ–¥–∏—à—å –ø–æ –±–∞–ª–ª–∞–º –ï–ì–≠.\n"
            "‚úÖ –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–≤–æ–∏—Ö –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤.\n"
            "‚úÖ –£–≤–∏–¥–µ—Ç—å, –∫–∞–∫ –º–µ–Ω—è–ª—Å—è –ø—Ä–æ—Ö–æ–¥–Ω–æ–π –±–∞–ª–ª –ø–æ—Å–ª–µ–¥–Ω–∏–µ –≥–æ–¥—ã.\n"
            "‚úÖ –ò –≥–ª–∞–≤–Ω–æ–µ ‚Äî –ø–µ—Ä–µ—Å—Ç–∞—Ç—å –Ω–µ—Ä–≤–Ω–∏—á–∞—Ç—å –∏ –ø—Ä–∏–Ω—è—Ç—å –≤–∑–≤–µ—à–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ!\n\n"
            "–ì–æ—Ç–æ–≤ —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–≤—ã–π —à–∞–≥ –∫ —Å–≤–æ–µ–π –∫–∞—Ä—å–µ—Ä–µ? "
            "–ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É ¬´–ó–∞–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∫–µ—Ç—É¬ª! üöÄ"
        ),
        reply_markup=menu_keyboard(
            user.is_profile_created,
            bot_info.username,
        ),
    )
